<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flow On ‚Äî Configura√ß√µes</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../../assets/css/style.css" />

  <!-- FAVICONS (SVG + fallback PNG) -->
  <link rel="icon" href="../../assets/img/favicon.svg" type="image/svg+xml" />
  <link rel="icon" href="../../assets/img/favicon-32.png" sizes="32x32" type="image/png" />
  <link rel="apple-touch-icon" href="../../assets/img/icons/icon-192.png" />

  <!-- PWA m√≠nimo (n√£o mexe em cache, s√≥ permite instalar) -->
  <link rel="manifest" href="../../manifest.webmanifest" />
  <meta name="theme-color" content="#0b0d10" />
</head>
<body>
  <header class="navbar">
    <div class="nav-inner">
      <div class="logo">
        <img src="../../assets/img/logo.svg" alt="Flow On logo" />
        <span>Flow On</span>
      </div>
      <nav class="menu">
        <a href="../../index.html">üè† Home</a>
        <a href="../journal/">üìì Journal</a>
        <a href="../themes/">üé¨ Temas</a>
        <a href="./" class="active">‚öôÔ∏è Configura√ß√µes</a>
      </nav>
    </div>
  </header>

  <main class="container container--single">
    <section class="card">
      <h2>Prefer√™ncias</h2>
      <div class="grid-2">
        <div>
          <label class="small">Cor do tema (visual)</label>
          <select id="cfgTheme" class="small" style="width:100%">
            <option value="gold">Preto + Dourado</option>
            <option value="red">Preto + Vermelho</option>
            <option value="clean">Clean (alto contraste)</option>
          </select>
        </div>
        <div>
          <label class="small">Semana inicia em</label>
          <select id="cfgWeek" class="small" style="width:100%">
            <option value="monday">Segunda</option>
            <option value="sunday">Domingo</option>
          </select>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Backup & Restaura√ß√£o (local)</h2>
      <p class="muted small">Exporta/Importa os dados salvos no seu navegador (localStorage).</p>
      <div style="display:flex; gap:8px; flex-wrap:wrap">
        <button id="btnExport" class="btn">Exportar .json</button>
        <label for="fileImport" class="btn" style="cursor:pointer">Importar .json</label>
        <input id="fileImport" type="file" accept="application/json" style="display:none" />
        <button id="btnReset" class="btn">Apagar dados locais</button>
      </div>
    </section>

    <section class="card">
      <h2>Integra√ß√µes (futuro)</h2>
      <ul class="small" style="margin:0">
        <li>Google Docs (sincronizar roteiros)</li>
        <li>Calend√°rio (espelhar agenda de publica√ß√µes)</li>
        <li>GPT (assistente manual com GPT Plus)</li>
      </ul>
    </section>
  </main>

  <footer class="footer">
    <p>Flow On ¬© 2025 ‚Äî Planeje. Execute. Evolua.</p>
  </footer>

  <!-- Settings com compat v2 + legacy -->
  <script src="../../assets/js/settings.js"></script>

  <!-- Registro do Service Worker (neutro; n√£o faz cache por conta pr√≥pria) -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('../../service-worker.js', { scope: '../../' })
          .catch(err => console.warn('[PWA] SW error:', err));
      });
    }
  </script>
</body>
</html>